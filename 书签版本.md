如下为书签版本:

已作废。
```js
javascript:(function(){const fixedContainer=document.createElement('div');fixedContainer.className='fixed-container';const keywordInput=document.createElement('input');keywordInput.type='text';keywordInput.id='keyword';keywordInput.placeholder='输入关键字';const urlParams=new URLSearchParams(window.location.search);const initialKeyword=urlParams.get('s');if(initialKeyword){keywordInput.value=initialKeyword}fixedContainer.appendChild(keywordInput);const searchEngineSelect=document.createElement('select');searchEngineSelect.id='searchEngine';fixedContainer.appendChild(searchEngineSelect);const searchButton=document.createElement('button');searchButton.id='searchButton';searchButton.textContent='搜索';fixedContainer.appendChild(searchButton);document.body.appendChild(fixedContainer);const style=document.createElement('style');style.textContent=`.fixed-container{position:fixed;top:100px;right:10px;background-color:white;padding:10px;border:1px solid#ccc;box-shadow:0px 0px 10px rgba(0,0,0,0.1)}`;document.head.appendChild(style);const script=document.createElement('script');script.src='https://cdn.jsdelivr.net/npm/js-yaml@4.1.0/dist/js-yaml.min.js';document.head.appendChild(script);script.onload=function(){fetch('http://127.0.0.1:456/config.yaml').then(response=>{if(!response.ok){throw new Error(`HTTP error!status:${response.status}`)}return response.text()}).then(data=>{try{const config=jsyaml.load(data);populateSelect(config,urlParams.get('engine'))}catch(e){console.error('Error parsing YAML file:',e)}}).catch(error=>console.error('Error loading YAML file:',error))};function populateSelect(config,initialEngine){config.forEach(item=>{const key=Object.keys(item)[0];const optgroup=document.createElement('optgroup');optgroup.label=key;const engine=item[key].engine;const trunall=item[key].trunall;optgroup.dataset.trunall=trunall;engine.forEach(engineObj=>{const engineName=Object.keys(engineObj)[0];const engineUrl=engineObj[engineName];const option=document.createElement('option');option.text=engineName;option.value=engineUrl;optgroup.appendChild(option)});searchEngineSelect.appendChild(optgroup)});if(initialEngine){Array.from(searchEngineSelect.options).forEach(option=>{if(option.text===initialEngine){option.selected=true}})}}searchButton.addEventListener('click',function(){search()});keywordInput.addEventListener('keypress',function(event){if(event.key==='Enter'){search()}});function search(){const keyword=keywordInput.value.trim();const engine=searchEngineSelect.value;if(engine&&keyword){const optgroup=Array.from(searchEngineSelect.children).find(opt=>opt.label===searchEngineSelect.selectedOptions[0].parentNode.label);const trunall=optgroup.dataset.trunall==='on';if(trunall){const allOptions=optgroup.querySelectorAll('option');allOptions.forEach(option=>{const searchUrl=option.value+encodeURIComponent(keyword);window.open(searchUrl,'_blank')})}else{const searchUrl=engine+encodeURIComponent(keyword);window.open(searchUrl,'_blank')}}else{alert('缺少必要的参数')}}})();
```

以上版本从外部加载yaml配置文件，虽然能够更方便的配置，但是在实际使用中发现会出现跨域以及浏览器安全拦截，故将config.yaml（搜索引擎配置文件直接放在js中，能够更方便的使用。
```
javascript:(function(){const config=[{"搜索引擎":{"trunall":"off","engine":[{"bing":"https://www.baidu.com/s?wd="},{"谷歌":"https://www.google.com/search?q="}]}},{"网盘搜索引擎":{"trunall":"on","engine":[{"yiso":"https://yiso.fun/info?searchKey="},{"混合盘":"https://hunhepan.com/search?q="}]}},{"单个网盘":{"trunall":"off","engine":[{"yiso":"https://yiso.fun/info?searchKey="},{"混合盘":"https://hunhepan.com/search?q="}]}}];const fixedContainer=document.createElement('div');fixedContainer.className='fixed-container';const keywordInput=document.createElement('input');keywordInput.type='text';keywordInput.id='keyword';keywordInput.placeholder='输入关键字';const urlParams=new URLSearchParams(window.location.search);const initialKeyword=urlParams.get('s');if(initialKeyword){keywordInput.value=initialKeyword}fixedContainer.appendChild(keywordInput);const searchEngineSelect=document.createElement('select');searchEngineSelect.id='searchEngine';fixedContainer.appendChild(searchEngineSelect);const searchButton=document.createElement('button');searchButton.id='searchButton';searchButton.textContent='搜索';fixedContainer.appendChild(searchButton);document.body.appendChild(fixedContainer);const style=document.createElement('style');style.textContent=`.fixed-container{position:fixed;top:100px;right:10px;background-color:white;padding:10px;border:1px solid#ccc;box-shadow:0px 0px 10px rgba(0,0,0,0.1)}`;document.head.appendChild(style);function populateSelect(config,initialEngine){config.forEach(item=>{const key=Object.keys(item)[0];const optgroup=document.createElement('optgroup');optgroup.label=key;const engine=item[key].engine;const trunall=item[key].trunall;optgroup.dataset.trunall=trunall;engine.forEach(engineObj=>{const engineName=Object.keys(engineObj)[0];const engineUrl=engineObj[engineName];const option=document.createElement('option');option.text=engineName;option.value=engineUrl;optgroup.appendChild(option)});searchEngineSelect.appendChild(optgroup)});if(initialEngine){Array.from(searchEngineSelect.options).forEach(option=>{if(option.text===initialEngine){option.selected=true}})}}populateSelect(config,urlParams.get('engine'));searchButton.addEventListener('click',function(){search()});keywordInput.addEventListener('keypress',function(event){if(event.key==='Enter'){search()}});function search(){const keyword=keywordInput.value.trim();const engine=searchEngineSelect.value;if(engine&&keyword){const optgroup=Array.from(searchEngineSelect.children).find(opt=>opt.label===searchEngineSelect.selectedOptions[0].parentNode.label);const trunall=optgroup.dataset.trunall==='on';if(trunall){const allOptions=optgroup.querySelectorAll('option');allOptions.forEach(option=>{const searchUrl=option.value+encodeURIComponent(keyword);window.open(searchUrl,'_blank')})}else{const searchUrl=engine+encodeURIComponent(keyword);window.open(searchUrl,'_blank')}}else{alert('缺少必要的参数')}}})();
```
以上作废。

如需编辑搜索引擎，可以通过js解压缩工具将改代码解压缩后，再进行编辑，然后压缩回来，放置到浏览器书签中。

# 可使用版本

<a href="[链接](javascript:(function(){const config=[{"搜索引擎":{"trunall":"off","engine":[{"bing":"https://www.baidu.com/s?wd="},{"谷歌":"https://www.google.com/search?q="}]}},{"网盘搜索引擎":{"trunall":"on","engine":[{"yiso":"https://yiso.fun/info?searchKey="},{"混合盘":"https://hunhepan.com/search?q="}]}},{"单个网盘":{"trunall":"off","engine":[{"yiso":"https://yiso.fun/info?searchKey="},{"混合盘":"https://hunhepan.com/search?q="}]}}];const fixedContainer=document.createElement('div');fixedContainer.className='fixed-container';const keywordInput=document.createElement('input');keywordInput.type='text';keywordInput.id='keyword';keywordInput.placeholder='输入关键字';const urlParams=new URLSearchParams(window.location.search);const initialKeyword=urlParams.get('s');if(initialKeyword){keywordInput.value=initialKeyword}fixedContainer.appendChild(keywordInput);const searchEngineSelect=document.createElement('select');searchEngineSelect.id='searchEngine';fixedContainer.appendChild(searchEngineSelect);const searchButton=document.createElement('button');searchButton.id='searchButton';searchButton.textContent='搜索';fixedContainer.appendChild(searchButton);document.body.appendChild(fixedContainer);const style=document.createElement('style');style.textContent=`.fixed-container{position:fixed;top:100px;right:10px;background-color:white;padding:10px;border:1px solid#ccc;box-shadow:0px 0px 10px rgba(0,0,0,0.1)}`;document.head.appendChild(style);function populateSelect(config,initialEngine){config.forEach(item=>{const key=Object.keys(item)[0];const optgroup=document.createElement('optgroup');optgroup.label=key;const engine=item[key].engine;const trunall=item[key].trunall;optgroup.dataset.trunall=trunall;engine.forEach(engineObj=>{const engineName=Object.keys(engineObj)[0];const engineUrl=engineObj[engineName];const option=document.createElement('option');option.text=engineName;option.value=engineUrl;optgroup.appendChild(option)});searchEngineSelect.appendChild(optgroup)});if(initialEngine){Array.from(searchEngineSelect.options).forEach(option=>{if(option.text===initialEngine){option.selected=true}})}}populateSelect(config,urlParams.get('engine'));searchButton.addEventListener('click',function(){search()});keywordInput.addEventListener('keypress',function(event){if(event.key==='Enter'){search()}});function search(){const keyword=keywordInput.value.trim();const engine=searchEngineSelect.value;if(engine&&keyword){const optgroup=Array.from(searchEngineSelect.children).find(opt=>opt.label===searchEngineSelect.selectedOptions[0].parentNode.label);const trunall=optgroup.dataset.trunall==='on';if(trunall){const allOptions=optgroup.querySelectorAll('option');allOptions.forEach(option=>{const searchUrl=option.value+encodeURIComponent(keyword);window.open(searchUrl,'_blank')})}else{const searchUrl=engine+encodeURIComponent(keyword);window.open(searchUrl,'_blank')}}else{alert('缺少必要的参数')}}})();)">把我拖动到浏览器书签栏</a>

非压缩版

```javascript
javascript: (function() {
    const config = [{
        "搜索引擎": {
            "trunall": "off",
            "engine": [{
                "bing": "https://www.baidu.com/s?wd="
            }, {
                "谷歌": "https://www.google.com/search?q="
            }]
        }
    }, {
        "网盘搜索引擎": {
            "trunall": "on",
            "engine": [{
                "yiso": "https://yiso.fun/info?searchKey="
            }, {
                "混合盘": "https://hunhepan.com/search?q="
            }]
        }
    }, {
        "单个网盘": {
            "trunall": "off",
            "engine": [{
                "yiso": "https://yiso.fun/info?searchKey="
            }, {
                "混合盘": "https://hunhepan.com/search?q="
            }]
        }
    }];
    const fixedContainer = document.createElement('div');
    fixedContainer.className = 'fixed-container';
    const keywordInput = document.createElement('input');
    keywordInput.type = 'text';
    keywordInput.id = 'keyword';
    keywordInput.placeholder = '输入关键字';
    const urlParams = new URLSearchParams(window.location.search);
    const initialKeyword = urlParams.get('s');
    if (initialKeyword) {
        keywordInput.value = initialKeyword
    }
    fixedContainer.appendChild(keywordInput);
    const searchEngineSelect = document.createElement('select');
    searchEngineSelect.id = 'searchEngine';
    fixedContainer.appendChild(searchEngineSelect);
    const searchButton = document.createElement('button');
    searchButton.id = 'searchButton';
    searchButton.textContent = '搜索';
    fixedContainer.appendChild(searchButton);
    document.body.appendChild(fixedContainer);
    const style = document.createElement('style');
    style.textContent = `.fixed-container{position:fixed;top:100px;right:10px;background-color:white;padding:10px;border:1px solid#ccc;box-shadow:0px 0px 10px rgba(0,0,0,0.1)}`;
    document.head.appendChild(style);

    function populateSelect(config, initialEngine) {
        config.forEach(item => {
            const key = Object.keys(item)[0];
            const optgroup = document.createElement('optgroup');
            optgroup.label = key;
            const engine = item[key].engine;
            const trunall = item[key].trunall;
            optgroup.dataset.trunall = trunall;
            engine.forEach(engineObj => {
                const engineName = Object.keys(engineObj)[0];
                const engineUrl = engineObj[engineName];
                const option = document.createElement('option');
                option.text = engineName;
                option.value = engineUrl;
                optgroup.appendChild(option)
            });
            searchEngineSelect.appendChild(optgroup)
        });
        if (initialEngine) {
            Array.from(searchEngineSelect.options).forEach(option => {
                if (option.text === initialEngine) {
                    option.selected = true
                }
            })
        }
    }
    populateSelect(config, urlParams.get('engine'));
    searchButton.addEventListener('click', function() {
        search()
    });
    keywordInput.addEventListener('keypress', function(event) {
        if (event.key === 'Enter') {
            search()
        }
    });

    function search() {
        const keyword = keywordInput.value.trim();
        const engine = searchEngineSelect.value;
        if (engine && keyword) {
            const optgroup = Array.from(searchEngineSelect.children).find(opt => opt.label === searchEngineSelect.selectedOptions[0].parentNode.label);
            const trunall = optgroup.dataset.trunall === 'on';
            if (trunall) {
                const allOptions = optgroup.querySelectorAll('option');
                allOptions.forEach(option => {
                    const searchUrl = option.value + encodeURIComponent(keyword);
                    window.open(searchUrl, '_blank')
                })
            } else {
                const searchUrl = engine + encodeURIComponent(keyword);
                window.open(searchUrl, '_blank')
            }
        } else {
            alert('缺少必要的参数')
        }
    }
})();
```